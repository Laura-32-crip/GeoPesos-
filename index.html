<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Monedas para estudiantes</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f8ff; padding: 20px; }
  table { border-collapse: collapse; width: 100%; max-width: 600px; margin: auto; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
  th { background: #0066cc; color: white; }
  button { padding: 5px 10px; margin: 2px; cursor: pointer; }
  button:hover { background-color: #004080; color: white; }
</style>
</head>
<body>

<h1>Monedas para estudiantes</h1>

<table>
  <thead>
    <tr><th>Nombre</th><th>Monedas</th><th>Acciones</th></tr>
  </thead>
  <tbody id="contenido-tabla"></tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
<script>
const GOOGLE_SHEET_CSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTctPK3hWLNDSIp-4EmEgWELkzlSBysObsGsTAWBwhH-uBSL__CgQrzv2gLRcdRfkPSQmrbaLlQRRWP/pub?gid=0&single=true&output=csv";

// Proxy para evitar errores CORS (puedes cambiar por otro proxy si quieres)
const PROXY = "https://cors-anywhere.herokuapp.com/";

let estudiantes = [];

function mostrarTabla() {
  const monedas = JSON.parse(localStorage.getItem("monedas") || "{}");
  const cuerpo = document.getElementById("contenido-tabla");
  cuerpo.innerHTML = "";

  estudiantes.forEach(({ Nombre }) => {
    if (!Nombre) return;
    const cantMonedas = monedas[Nombre] || 0;
    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${Nombre}</td>
      <td>${cantMonedas}</td>
      <td>
        <button onclick="premiarMonedas('${Nombre}')">+5 Monedas</button>
        <button onclick="quitarMonedas('${Nombre}')">Quitar Monedas</bu
